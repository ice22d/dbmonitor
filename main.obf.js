(function(){try{var _=atob("Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBEYW1uQnJ1aFNlcnZlck1vbml0b3JWMgovLyBAbmFtZXNwYWNlICAgIGh0dHA6Ly90YW1wZXJtb25rZXkubmV0LwovLyBAdmVyc2lvbiAgICAgIDMuNi4zCi8vIEBtYXRjaCAgICAgICAgKjovL2RhbW5icnVoLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovL3d3dy5kYW1uYnJ1aC5jb20vKgovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1zdGFydAovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICAvLyBXYWl0IGZvciBib2R5IChyb2J1c3QpCiAgZnVuY3Rpb24gd2FpdEZvckJvZHkodGltZW91dCA9IDgwMDApIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgICBpZiAoZG9jdW1lbnQuYm9keSkgcmV0dXJuIHJlc29sdmUoZG9jdW1lbnQuYm9keSk7CiAgICAgIGNvbnN0IG9icyA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHsKICAgICAgICBpZiAoZG9jdW1lbnQuYm9keSkgewogICAgICAgICAgb2JzLmRpc2Nvbm5lY3QoKTsKICAgICAgICAgIHJlc29sdmUoZG9jdW1lbnQuYm9keSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgb2JzLm9ic2VydmUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgb2JzLmRpc2Nvbm5lY3QoKTsKICAgICAgICByZXNvbHZlKGRvY3VtZW50LmJvZHkgfHwgbnVsbCk7CiAgICAgIH0sIHRpbWVvdXQpOwogICAgfSk7CiAgfQoKICB3YWl0Rm9yQm9keSgpLnRoZW4oKCkgPT4gaW5pdCgpKTsKCiAgZnVuY3Rpb24gaW5pdCgpIHsKICAgIGNvbnN0IFJFRlJFU0hfTVMgPSAxNzAwOwogICAgY29uc3QgU0VSVkVSUyA9IFsKICAgICAgeyBpZDogImV1MSIsIHVybDogImh0dHBzOi8vZGFtbmJydWgtZ2FtZS1zZXJ2ZXItaW5zdGFuY2UtMS1ldS5vbnJlbmRlci5jb20vcGxheWVycyIsIGxhYmVsOiAiRVUgMSQiIH0sCiAgICAgIHsgaWQ6ICJldTUiLCB1cmw6ICJodHRwczovL2RhbW5icnVoLWdhbWUtc2VydmVyLWluc3RhbmNlLTUtZXUtZHliMC5vbnJlbmRlci5jb20vcGxheWVycyIsIGxhYmVsOiAiRVUgNSQiIH0sCiAgICAgIHsgaWQ6ICJldTIwIiwgdXJsOiAiaHR0cHM6Ly9kYW1uYnJ1aC1nYW1lLXNlcnZlci1pbnN0YW5jZS0yMC1ldS5vbnJlbmRlci5jb20vcGxheWVycyIsIGxhYmVsOiAiRVUgMjAkIiB9LAogICAgICB7IGlkOiAidXMxIiwgdXJsOiAiaHR0cHM6Ly9kYW1uYnJ1aC1nYW1lLXNlcnZlci1pbnN0YW5jZS0xLXVzLm9ucmVuZGVyLmNvbS9wbGF5ZXJzIiwgbGFiZWw6ICJVUyAxJCIgfSwKICAgICAgeyBpZDogInVzNSIsIHVybDogImh0dHBzOi8vZGFtbmJydWgtZ2FtZS1zZXJ2ZXItaW5zdGFuY2UtNS11cy5vbnJlbmRlci5jb20vcGxheWVycyIsIGxhYmVsOiAiVVMgNSQiIH0sCiAgICAgIHsgaWQ6ICJ1czIwIiwgdXJsOiAiaHR0cHM6Ly9kYW1uYnJ1aC1nYW1lLXNlcnZlci1pbnN0YW5jZS0yMC11cy5vbnJlbmRlci5jb20vcGxheWVycyIsIGxhYmVsOiAiVVMgMjAkIiB9CiAgICBdOwoKICAgIGNvbnN0IFNUT1JBR0VfS0VZID0gImRiX21vbml0b3JfY2ZnX2ZpbmFsX3NsaW1fc2lsdmVyX3YxIjsKICAgIGNvbnN0IGRlZmF1bHRDZmcgPSB7CiAgICAgIHZpc2libGU6IHRydWUsCiAgICAgIGVuYWJsZWRTZXJ2ZXJzOiBTRVJWRVJTLm1hcChzID0+IHMuaWQpLAogICAgICBwaW5nT25Kb2luOiB0cnVlLAogICAgICBwaW5nVm9sdW1lOiAwLjI1CiAgICB9OwoKICAgIGxldCBjZmcgPSBsb2FkQ2ZnKCk7CiAgICBsZXQgbGFzdFNldHMgPSBuZXcgTWFwKCk7CgogICAgZnVuY3Rpb24gbG9hZENmZygpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWSk7CiAgICAgICAgcmV0dXJuIHJhdyA/IHsgLi4uZGVmYXVsdENmZywgLi4uSlNPTi5wYXJzZShyYXcpIH0gOiB7IC4uLmRlZmF1bHRDZmcgfTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHJldHVybiB7IC4uLmRlZmF1bHRDZmcgfTsKICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gc2F2ZUNmZygpIHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVksIEpTT04uc3RyaW5naWZ5KGNmZykpOyB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tIENTUyAoc2lsdmVyL2dyYXkvYmxhY2ssIHNsaW0pICsgYWRkaXRpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGNvbnN0IENTUyA9IGAKI2RibW9uLXJvb3QgewogIHBvc2l0aW9uOiBmaXhlZDsKICByaWdodDogMTRweDsKICB0b3A6IDE0cHg7CiAgd2lkdGg6IDI0MHB4OyAvKiBuYXJyb3dlciAqLwogIG1heC1oZWlnaHQ6IDg2dmg7CiAgb3ZlcmZsb3cteTogYXV0bzsKICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCByZ2JhKDI2LDI2LDI4LDAuOCksIHJnYmEoMjAsMjAsMjIsMC43NSkpOwogIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTUwLDE1MCwxNTAsMC4zNSk7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKICBwYWRkaW5nOiA4cHg7CiAgZm9udC1mYW1pbHk6IEludGVyLCBBcmlhbCwgc2Fucy1zZXJpZjsKICBjb2xvcjogI2U2ZTZlNjsKICB6LWluZGV4OiAyMTQ3NDgzNjQ3OwogIGJveC1zaGFkb3c6IDAgNnB4IDIwcHggcmdiYSg1MCw1MCw1MCwwLjQ1KSwgMCAwIDE4cHggcmdiYSgyMDAsMjAwLDIwMCwwLjA2KSBpbnNldDsKICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoNnB4KSBzYXR1cmF0ZSgxMjAlKTsKICAtd2Via2l0LWJhY2tkcm9wLWZpbHRlcjogYmx1cig2cHgpIHNhdHVyYXRlKDEyMCUpOwogIGZvbnQtc2l6ZTogMTJweDsKfQoKI2RibW9uLXJvb3QuaGlkZGVuIHsgZGlzcGxheTogbm9uZTsgfQoKaGVhZGVyIHsgZGlzcGxheTpmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6Y2VudGVyOyBtYXJnaW4tYm90dG9tOjZweDsgY3Vyc29yOm1vdmU7IH0KaDIgeyBtYXJnaW46MDsgY29sb3I6I2RjZGNkYzsgZm9udC1zaXplOjE0cHg7IGZvbnQtd2VpZ2h0OjgwMDsgbGV0dGVyLXNwYWNpbmc6MC42cHg7IHRleHQtc2hhZG93OjAgMCA2cHggcmdiYSgyNTUsMjU1LDI1NSwwLjAzKTsgfQouZGJtb24tYnRuIHsKICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoI2NmY2ZjZiwjOWE5YTlhKTsKICBib3JkZXI6bm9uZTsgcGFkZGluZzo0cHggN3B4OyBib3JkZXItcmFkaXVzOjZweDsgY29sb3I6IzExMTsgZm9udC13ZWlnaHQ6ODAwOwogIGN1cnNvcjpwb2ludGVyOyBmb250LXNpemU6MTFweDsgYm94LXNoYWRvdzowIDJweCA2cHggcmdiYSgwLDAsMCwwLjQ1KTsKfQouZGJtb24tYnRuOmFjdGl2ZSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxcHgpOyB9Cgouc2VydmVyLWJveCB7CiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDE4MGRlZywgcmdiYSgxOCwxOCwyMCwwLjYpLCByZ2JhKDE0LDE0LDE2LDAuNikpOwogIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoOTAsOTAsOTAsMC4yNSk7CiAgcGFkZGluZzo2cHg7CiAgYm9yZGVyLXJhZGl1czo2cHg7CiAgbWFyZ2luLWJvdHRvbTo2cHg7Cn0KCi5zZXJ2ZXItdGl0bGUgewogIGRpc3BsYXk6ZmxleDsganVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47CiAgY29sb3I6I2Q2ZDZkNjsgZm9udC13ZWlnaHQ6NzAwOyBmb250LXNpemU6MTJweDsKICBtYXJnaW4tYm90dG9tOjRweDsKfQoKLnBsYXllci1saXN0IHsgZGlzcGxheTpmbGV4OyBmbGV4LWRpcmVjdGlvbjpjb2x1bW47IGdhcDo0cHg7IH0KLyogQURERUQ6IHNldCBwb3NpdGlvbiByZWxhdGl2ZSBzbyBhYnNvbHV0ZSBwb3B1cCBwb3NpdGlvbnMgY29ycmVjdGx5ICovCi5wbGF5ZXItcm93IHsKICBiYWNrZ3JvdW5kOiByZ2JhKDI0LDI0LDI4LDAuODUpOwogIHBhZGRpbmc6NHB4IDZweDsKICBib3JkZXItcmFkaXVzOjRweDsKICBkaXNwbGF5OmZsZXg7IGp1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuOyBhbGlnbi1pdGVtczpjZW50ZXI7CiAgZm9udC1zaXplOjExcHg7CiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg2MCw2MCw2MCwwLjE4KTsKICBwb3NpdGlvbjogcmVsYXRpdmU7Cn0KLnBsYXllci1yb3cgc21hbGwgeyBvcGFjaXR5OjAuODU7IGZvbnQtc2l6ZToxMHB4OyBjb2xvcjojYmRiZGJkOyB9CgovKiBBRERFRDogc21hbGwgY29waWVkIHBvcHVwICovCi5wbGF5ZXItY29waWVkIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgcmlnaHQ6IDZweDsKICB0b3A6IC0zcHg7CiAgZm9udC1zaXplOiAxMHB4OwogIGNvbG9yOiAjOWZkZjlmOwogIG9wYWNpdHk6IDA7CiAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjJzIGVhc2Utb3V0Owp9CgovKiBBRERFRDogbWFqZXN0aWMgZ29sZCBoaWdobGlnaHQgZm9yIDhtcyBpY2VsZXNzICovCi5laWdodG1zIHsKICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsICNmZmM2M2YsICNmZjgyM2YsICNmZjNmM2YpOwogIC13ZWJraXQtYmFja2dyb3VuZC1jbGlwOiB0ZXh0OwogIC13ZWJraXQtdGV4dC1maWxsLWNvbG9yOiB0cmFuc3BhcmVudDsKICBmb250LXdlaWdodDogOTAwOwogIHRleHQtc2hhZG93OiAwIDAgOHB4IHJnYmEoMjU1LDIxNSwwLDAuNDUpOwp9Cgouc3BlY3RhdG9yIHsgb3BhY2l0eTowLjU7IGZvbnQtc3R5bGU6aXRhbGljOyBiYWNrZ3JvdW5kOiByZ2JhKDM2LDM2LDQwLDAuOSk7IH0KLnNwZWN0YXRvciBzcGFuOmZpcnN0LWNoaWxkOjpiZWZvcmUgeyBjb250ZW50OiLwn5GBICI7IH0KCi5jb25maWctc2VjdGlvbiB7CiAgbWFyZ2luLXRvcDo4cHg7CiAgcGFkZGluZy10b3A6NnB4OwogIGJvcmRlci10b3A6MXB4IHNvbGlkIHJnYmEoODAsODAsODAsMC4xOCk7CiAgZGlzcGxheTpmbGV4OwogIGZsZXgtZGlyZWN0aW9uOmNvbHVtbjsKICBnYXA6NnB4Owp9Cgouc2VydmVyLWdyb3VwIHsKICBkaXNwbGF5OmZsZXg7IGdhcDo2cHg7IGZsZXgtd3JhcDpub3dyYXA7IG92ZXJmbG93LXg6YXV0bzsgcGFkZGluZy1ib3R0b206NHB4Owp9Cgouc3J2LXRvZ2dsZSB7IGRpc3BsYXk6ZmxleDsgYWxpZ24taXRlbXM6Y2VudGVyOyBnYXA6NXB4OyB3aGl0ZS1zcGFjZTpub3dyYXA7IGZvbnQtc2l6ZToxMXB4OyBjb2xvcjojZDBkMGQwOyB9Ci5zcnYtdG9nZ2xlIGlucHV0W3R5cGU9ImNoZWNrYm94Il0gewogIGFwcGVhcmFuY2U6bm9uZTsKICB3aWR0aDoxMnB4OyBoZWlnaHQ6MTJweDsKICBib3JkZXI6MnB4IHNvbGlkIHJnYmEoMTkxLDE5MSwxOTEsMC45KTsKICBib3JkZXItcmFkaXVzOjNweDsKICBiYWNrZ3JvdW5kOiByZ2JhKDEyLDEyLDEyLDAuNyk7CiAgY3Vyc29yOnBvaW50ZXI7IHBvc2l0aW9uOnJlbGF0aXZlOwp9Ci5zcnYtdG9nZ2xlIGlucHV0OmNoZWNrZWQgeyBiYWNrZ3JvdW5kOiByZ2JhKDIxMCwyMTAsMjEwLDAuOTUpOyBib3JkZXItY29sb3I6IHJnYmEoMjEwLDIxMCwyMTAsMC45NSk7IH0KLnNydi10b2dnbGUgaW5wdXQ6Y2hlY2tlZDo6YWZ0ZXIgeyBjb250ZW50OiLinJQiOyBjb2xvcjojMDAwOyBmb250LXNpemU6MTBweDsgZm9udC13ZWlnaHQ6OTAwOyBwb3NpdGlvbjpyZWxhdGl2ZTsgbGVmdDoxcHg7IHRvcDotMXB4OyB9CgppbnB1dFt0eXBlPXJhbmdlXXsKICAtd2Via2l0LWFwcGVhcmFuY2U6bm9uZTsgd2lkdGg6MTAwJTsgaGVpZ2h0OjZweDsKICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIHJnYmEoMjEwLDIxMCwyMTAsMC45NSkgMCUsIHJnYmEoMjEwLDIxMCwyMTAsMC45NSkgdmFyKC0tdmFsLDUwJSksIHJnYmEoNTgsNTgsNTgsMC45KSB2YXIoLS12YWwsNTAlKSwgcmdiYSg1OCw1OCw1OCwwLjkpIDEwMCUpOwogIGJvcmRlci1yYWRpdXM6NnB4OyBvdXRsaW5lOm5vbmU7Cn0KaW5wdXRbdHlwZT1yYW5nZV06Oi13ZWJraXQtc2xpZGVyLXRodW1iewogIC13ZWJraXQtYXBwZWFyYW5jZTpub25lOyB3aWR0aDoxNHB4OyBoZWlnaHQ6MTRweDsgYmFja2dyb3VuZDojZThlOGU4OyBib3JkZXItcmFkaXVzOjUwJTsgbWFyZ2luLXRvcDotNHB4OyBjdXJzb3I6cG9pbnRlcjsKICBib3gtc2hhZG93OiAwIDJweCA2cHggcmdiYSgwLDAsMCwwLjQ1KTsKfQoKLmRibW9uLWJyYW5kIHsKICBtYXJnaW4tdG9wOjZweDsgdGV4dC1hbGlnbjpjZW50ZXI7IGZvbnQtc2l6ZToxMHB4OwogIHBhZGRpbmctdG9wOjZweDsgYm9yZGVyLXRvcDoxcHggc29saWQgcmdiYSgxMjAsMTIwLDEyMCwwLjEyKTsKICBvcGFjaXR5OjAuODU7IGxldHRlci1zcGFjaW5nOjFweDsKfQouZGJtb24tYnJhbmQgYiB7IGNvbG9yOiNmZmY7IGZvbnQtd2VpZ2h0OjkwMDsgdGV4dC1zaGFkb3c6IDAgMCA4cHggcmdiYSgyMDAsMjAwLDIwMCwwLjA4KTsgfQpgOwoKICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTsKICAgIHN0eWxlLnRleHRDb250ZW50ID0gQ1NTOwogICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLSBVSSBDcmVhdGlvbiAtLS0tLS0tLS0tLS0tLS0tLQogICAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgcm9vdC5pZCA9ICJkYm1vbi1yb290IjsKICAgIGlmICghY2ZnLnZpc2libGUpIHJvb3QuY2xhc3NMaXN0LmFkZCgiaGlkZGVuIik7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHJvb3QpOwoKICAgIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImhlYWRlciIpOwogICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJoMiIpOyB0aXRsZS50ZXh0Q29udGVudCA9ICJEYW1uQnJ1aCBNb25pdG9yIjsKICAgIGNvbnN0IHJlZnJlc2hCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgIHJlZnJlc2hCdG4uY2xhc3NOYW1lID0gImRibW9uLWJ0biI7IHJlZnJlc2hCdG4udGV4dENvbnRlbnQgPSAiUmVmcmVzaCI7CiAgICBoZWFkZXIuYXBwZW5kQ2hpbGQodGl0bGUpOyBoZWFkZXIuYXBwZW5kQ2hpbGQocmVmcmVzaEJ0bik7IHJvb3QuYXBwZW5kQ2hpbGQoaGVhZGVyKTsKCiAgICBjb25zdCBzdGF0dXNEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHN0YXR1c0Rpdi5zdHlsZS5vcGFjaXR5ID0gIjAuNzUiOwogICAgc3RhdHVzRGl2LnN0eWxlLmZvbnRTaXplID0gIjExcHgiOwogICAgc3RhdHVzRGl2LnRleHRDb250ZW50ID0gIlN0YXR1czogTG9hZGluZy4uLiI7CiAgICByb290LmFwcGVuZENoaWxkKHN0YXR1c0Rpdik7CgogICAgY29uc3QgbGlzdFdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHJvb3QuYXBwZW5kQ2hpbGQobGlzdFdyYXApOwoKICAgIGNvbnN0IGNmZ0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgY2ZnRGl2LmNsYXNzTmFtZSA9ICJjb25maWctc2VjdGlvbiI7CgogICAgY29uc3Qgc3J2VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHNydlRpdGxlLnN0eWxlLmNvbG9yID0gIiNkMGQwZDAiOwogICAgc3J2VGl0bGUuc3R5bGUuZm9udFdlaWdodCA9ICI3MDAiOwogICAgc3J2VGl0bGUuc3R5bGUuZm9udFNpemUgPSAiMTJweCI7CiAgICBzcnZUaXRsZS50ZXh0Q29udGVudCA9ICJNb25pdG9yZWQgU2VydmVyczoiOwogICAgY2ZnRGl2LmFwcGVuZENoaWxkKHNydlRpdGxlKTsKCiAgICAvLyBzZXJ2ZXIgY2hlY2tib3ggcm93cwogICAgZnVuY3Rpb24gbWFrZVNydlJvdyhpZHMpIHsKICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIHJvdy5jbGFzc05hbWUgPSAic2VydmVyLWdyb3VwIjsKICAgICAgaWRzLmZvckVhY2goaWQgPT4gewogICAgICAgIGNvbnN0IHMgPSBTRVJWRVJTLmZpbmQoeCA9PiB4LmlkID09PSBpZCk7CiAgICAgICAgY29uc3QgbGFiID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGFiZWwiKTsgbGFiLmNsYXNzTmFtZSA9ICJzcnYtdG9nZ2xlIjsKICAgICAgICBjb25zdCBjaGsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOyBjaGsudHlwZSA9ICJjaGVja2JveCI7IGNoay5jaGVja2VkID0gY2ZnLmVuYWJsZWRTZXJ2ZXJzLmluY2x1ZGVzKHMuaWQpOwoKICAgICAgICBjaGsub25jaGFuZ2UgPSAoKSA9PiB7CiAgICAgICAgICBpZiAoY2hrLmNoZWNrZWQpIHsKICAgICAgICAgICAgaWYgKCFjZmcuZW5hYmxlZFNlcnZlcnMuaW5jbHVkZXMocy5pZCkpIGNmZy5lbmFibGVkU2VydmVycy5wdXNoKHMuaWQpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2ZnLmVuYWJsZWRTZXJ2ZXJzID0gY2ZnLmVuYWJsZWRTZXJ2ZXJzLmZpbHRlcih4ID0+IHggIT09IHMuaWQpOwogICAgICAgICAgfQogICAgICAgICAgc2F2ZUNmZygpOyByZW5kZXJTZXJ2ZXJzKCk7CiAgICAgICAgfTsKCiAgICAgICAgbGFiLmFwcGVuZENoaWxkKGNoayk7CiAgICAgICAgY29uc3QgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIgKyBzLmxhYmVsKTsKICAgICAgICBsYWIuYXBwZW5kQ2hpbGQodGV4dE5vZGUpOwogICAgICAgIHJvdy5hcHBlbmRDaGlsZChsYWIpOwogICAgICB9KTsKICAgICAgcmV0dXJuIHJvdzsKICAgIH0KCiAgICBjZmdEaXYuYXBwZW5kQ2hpbGQobWFrZVNydlJvdyhbImV1MSIsICJldTUiLCAiZXUyMCJdKSk7CiAgICBjZmdEaXYuYXBwZW5kQ2hpbGQobWFrZVNydlJvdyhbInVzMSIsICJ1czUiLCAidXMyMCJdKSk7CgogICAgLy8gUGluZyBWb2x1bWUKICAgIGNvbnN0IHZvbExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICB2b2xMYWJlbC50ZXh0Q29udGVudCA9ICJQaW5nIFZvbHVtZToiOwogICAgY2ZnRGl2LmFwcGVuZENoaWxkKHZvbExhYmVsKTsKCiAgICBjb25zdCB2b2xTbGlkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwogICAgdm9sU2xpZGVyLnR5cGUgPSAicmFuZ2UiOwogICAgdm9sU2xpZGVyLm1pbiA9IDA7IHZvbFNsaWRlci5tYXggPSAxOyB2b2xTbGlkZXIuc3RlcCA9IDAuMDE7CiAgICB2b2xTbGlkZXIudmFsdWUgPSBjZmcucGluZ1ZvbHVtZTsKICAgIGNmZ0Rpdi5hcHBlbmRDaGlsZCh2b2xTbGlkZXIpOwogICAgcm9vdC5hcHBlbmRDaGlsZChjZmdEaXYpOwoKICAgIGZ1bmN0aW9uIHVwZGF0ZVNsaWRlckNvbG9yKCkgewogICAgICB2b2xTbGlkZXIuc3R5bGUuc2V0UHJvcGVydHkoIi0tdmFsIiwgKHZvbFNsaWRlci52YWx1ZSAqIDEwMCkgKyAiJSIpOwogICAgfQogICAgdm9sU2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgKCkgPT4gewogICAgICBjZmcucGluZ1ZvbHVtZSA9IE51bWJlcih2b2xTbGlkZXIudmFsdWUpOwogICAgICBzYXZlQ2ZnKCk7CiAgICAgIHVwZGF0ZVNsaWRlckNvbG9yKCk7CiAgICB9KTsKICAgIHVwZGF0ZVNsaWRlckNvbG9yKCk7CgogICAgLy8gSG90a2V5IEggdG9nZ2xlCiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgZSA9PiB7CiAgICAgIGlmIChlLmtleSAmJiBlLmtleS50b0xvd2VyQ2FzZSgpID09PSAiaCIpIHsKICAgICAgICBjZmcudmlzaWJsZSA9ICFjZmcudmlzaWJsZTsKICAgICAgICBzYXZlQ2ZnKCk7CiAgICAgICAgcm9vdC5jbGFzc0xpc3QudG9nZ2xlKCJoaWRkZW4iKTsKICAgICAgfQogICAgfSk7CgogICAgLy8gRHJhZ2dpbmcKICAgIChmdW5jdGlvbiBlbmFibGVEcmFnZ2luZyhlbCwgaGFuZGxlKSB7CiAgICAgIGxldCBkb3duID0gZmFsc2UsIHN4ID0gMCwgc3kgPSAwLCBzdCA9IDAsIHNyID0gMDsKICAgICAgaGFuZGxlLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsIGUgPT4gewogICAgICAgIGlmIChbIklOUFVUIiwgIkJVVFRPTiIsICJTRUxFQ1QiLCAiTEFCRUwiXS5pbmNsdWRlcyhlLnRhcmdldC50YWdOYW1lKSkgcmV0dXJuOwogICAgICAgIGRvd24gPSB0cnVlOyBzeCA9IGUuY2xpZW50WDsgc3kgPSBlLmNsaWVudFk7CiAgICAgICAgc3QgPSBwYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUoZWwpLnRvcCkgfHwgZWwub2Zmc2V0VG9wOwogICAgICAgIHNyID0gcGFyc2VGbG9hdChnZXRDb21wdXRlZFN0eWxlKGVsKS5yaWdodCkgfHwgcGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KS53aWR0aCkgLSAoZWwub2Zmc2V0TGVmdCArIGVsLm9mZnNldFdpZHRoKTsKICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnVzZXJTZWxlY3QgPSAibm9uZSI7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB9KTsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgZSA9PiB7CiAgICAgICAgaWYgKCFkb3duKSByZXR1cm47CiAgICAgICAgZWwuc3R5bGUudG9wID0gKHN0ICsgKGUuY2xpZW50WSAtIHN5KSkgKyAicHgiOwogICAgICAgIGVsLnN0eWxlLnJpZ2h0ID0gKHNyIC0gKGUuY2xpZW50WCAtIHN4KSkgKyAicHgiOwogICAgICB9KTsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsICgpID0+IHsgZG93biA9IGZhbHNlOyBkb2N1bWVudC5ib2R5LnN0eWxlLnVzZXJTZWxlY3QgPSAiIjsgfSk7CiAgICB9KShyb290LCBoZWFkZXIpOwoKICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gUkVOREVSSU5HIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgY29uc3Qgbm9kZXMgPSBuZXcgTWFwKCk7CiAgICBmdW5jdGlvbiBlbnN1cmVOb2RlKHMpIHsKICAgICAgaWYgKG5vZGVzLmhhcyhzLmlkKSkgcmV0dXJuIG5vZGVzLmdldChzLmlkKTsKCiAgICAgIGNvbnN0IGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOyBib3guY2xhc3NOYW1lID0gInNlcnZlci1ib3giOwogICAgICBjb25zdCBoZWFkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7IGhlYWQuY2xhc3NOYW1lID0gInNlcnZlci10aXRsZSI7CiAgICAgIGNvbnN0IGxibCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsgbGJsLnRleHRDb250ZW50ID0gcy5sYWJlbDsKICAgICAgY29uc3QgY250ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOyBjbnQudGV4dENvbnRlbnQgPSAiLS0gLyAtLSI7CiAgICAgIGhlYWQuYXBwZW5kQ2hpbGQobGJsKTsgaGVhZC5hcHBlbmRDaGlsZChjbnQpOyBib3guYXBwZW5kQ2hpbGQoaGVhZCk7CgogICAgICBjb25zdCBsaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7IGxpc3QuY2xhc3NOYW1lID0gInBsYXllci1saXN0IjsKICAgICAgYm94LmFwcGVuZENoaWxkKGxpc3QpOwogICAgICBsaXN0V3JhcC5hcHBlbmRDaGlsZChib3gpOwoKICAgICAgbm9kZXMuc2V0KHMuaWQsIHsgYm94LCBjbnQsIGxpc3QgfSk7CiAgICAgIHJldHVybiBub2Rlcy5nZXQocy5pZCk7CiAgICB9CgogICAgZnVuY3Rpb24gcmVuZGVyU2VydmVycygpIHsKICAgICAgbGlzdFdyYXAuaW5uZXJIVE1MID0gIiI7CiAgICAgIG5vZGVzLmNsZWFyKCk7CiAgICAgIFNFUlZFUlMuZm9yRWFjaChzID0+IHsKICAgICAgICBpZiAoY2ZnLmVuYWJsZWRTZXJ2ZXJzLmluY2x1ZGVzKHMuaWQpKSBlbnN1cmVOb2RlKHMpOwogICAgICB9KTsKICAgIH0KCiAgICBhc3luYyBmdW5jdGlvbiBmZXRjaFBsYXllcnModXJsKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgciA9IGF3YWl0IGZldGNoKHVybCwgeyBjYWNoZTogIm5vLXN0b3JlIiB9KTsKICAgICAgICBpZiAoIXIub2spIHJldHVybiBudWxsOwogICAgICAgIHJldHVybiBhd2FpdCByLmpzb24oKTsKICAgICAgfSBjYXRjaCB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0KCiAgICAvLyBTb2wgcHJpY2UKICAgIGxldCBzb2xQcmljZVVTRCA9IDA7CiAgICBhc3luYyBmdW5jdGlvbiB1cGRhdGVTb2xQcmljZSgpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByID0gYXdhaXQgZmV0Y2goImh0dHBzOi8vYXBpLmNvaW5nZWNrby5jb20vYXBpL3YzL3NpbXBsZS9wcmljZT9pZHM9c29sYW5hJnZzX2N1cnJlbmNpZXM9dXNkIik7CiAgICAgICAgaWYgKCFyLm9rKSB7IHNvbFByaWNlVVNEID0gMDsgcmV0dXJuOyB9CiAgICAgICAgY29uc3QgZCA9IGF3YWl0IHIuanNvbigpOwogICAgICAgIHNvbFByaWNlVVNEID0gKGQgJiYgZC5zb2xhbmEgJiYgTnVtYmVyKGQuc29sYW5hLnVzZCkpIHx8IDA7CiAgICAgIH0gY2F0Y2ggewogICAgICAgIHNvbFByaWNlVVNEID0gMDsKICAgICAgfQogICAgfQogICAgdXBkYXRlU29sUHJpY2UoKTsKICAgIHNldEludGVydmFsKHVwZGF0ZVNvbFByaWNlLCAxMDAwMCk7CgogICAgLy8gUGluZyBTb3VuZCAoQXVkaW9Db250ZXh0KQogICAgZnVuY3Rpb24gY3JlYXRlUGluZygpIHsKICAgICAgbGV0IGN0eDsKICAgICAgdHJ5IHsgY3R4ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpKCk7IH0gY2F0Y2ggeyByZXR1cm4gKCkgPT4ge307IH0KICAgICAgcmV0dXJuICgpID0+IHsKICAgICAgICBjb25zdCBvc2MgPSBjdHguY3JlYXRlT3NjaWxsYXRvcigpOwogICAgICAgIGNvbnN0IGcgPSBjdHguY3JlYXRlR2FpbigpOwogICAgICAgIGcuZ2Fpbi52YWx1ZSA9IGNmZy5waW5nVm9sdW1lOwogICAgICAgIG9zYy50eXBlID0gInNpbmUiOyBvc2MuZnJlcXVlbmN5LnZhbHVlID0gODgwOwogICAgICAgIG9zYy5jb25uZWN0KGcpOyBnLmNvbm5lY3QoY3R4LmRlc3RpbmF0aW9uKTsKICAgICAgICBvc2Muc3RhcnQoKTsKICAgICAgICBnLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSgwLjAwMDEsIGN0eC5jdXJyZW50VGltZSArIDAuMjUpOwogICAgICAgIG9zYy5zdG9wKGN0eC5jdXJyZW50VGltZSArIDAuMjUpOwogICAgICB9OwogICAgfQogICAgY29uc3QgcGxheVBpbmcgPSBjcmVhdGVQaW5nKCk7CgogICAgLy8gY29weSBoZWxwZXIgd2l0aCBmYWxsYmFjawogICAgYXN5bmMgZnVuY3Rpb24gY29weVRleHRUb0NsaXBib2FyZCh0ZXh0KSB7CiAgICAgIGlmICghdGV4dCkgcmV0dXJuIGZhbHNlOwogICAgICB0cnkgewogICAgICAgIGlmIChuYXZpZ2F0b3IuY2xpcGJvYXJkICYmIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KSB7CiAgICAgICAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh0ZXh0KTsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIC8vIGZhbGx0aHJvdWdoIHRvIHRleHRhcmVhIGZhbGxiYWNrCiAgICAgIH0KICAgICAgdHJ5IHsKICAgICAgICBjb25zdCB0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik7CiAgICAgICAgdGEudmFsdWUgPSB0ZXh0OwogICAgICAgIC8vIE1vdmUgb2ZmLXNjcmVlbgogICAgICAgIHRhLnN0eWxlLnBvc2l0aW9uID0gImZpeGVkIjsKICAgICAgICB0YS5zdHlsZS5sZWZ0ID0gIi05OTk5cHgiOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGEpOwogICAgICAgIHRhLmZvY3VzKCk7CiAgICAgICAgdGEuc2VsZWN0KCk7CiAgICAgICAgY29uc3Qgb2sgPSBkb2N1bWVudC5leGVjQ29tbWFuZCgiY29weSIpOwogICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGEpOwogICAgICAgIHJldHVybiBvazsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQoKICAgIC8vIE1haW4gdXBkYXRlCiAgICBhc3luYyBmdW5jdGlvbiB1cGRhdGUoKSB7CiAgICAgIHN0YXR1c0Rpdi50ZXh0Q29udGVudCA9ICJTdGF0dXM6IHVwZGF0aW5nLi4uIjsKICAgICAgY29uc3QgYWN0aXZlID0gU0VSVkVSUy5maWx0ZXIocyA9PiBjZmcuZW5hYmxlZFNlcnZlcnMuaW5jbHVkZXMocy5pZCkpOwogICAgICBjb25zdCByZXMgPSBhd2FpdCBQcm9taXNlLmFsbChhY3RpdmUubWFwKHMgPT4gZmV0Y2hQbGF5ZXJzKHMudXJsKS50aGVuKGQgPT4gKHsgcywgZGF0YTogZCB9KSkpKTsKCiAgICAgIGZvciAoY29uc3QgeyBzLCBkYXRhIH0gb2YgcmVzKSB7CiAgICAgICAgY29uc3QgbiA9IGVuc3VyZU5vZGUocyk7CiAgICAgICAgaWYgKCFkYXRhIHx8ICFBcnJheS5pc0FycmF5KGRhdGEucGxheWVycykpIHsKICAgICAgICAgIG4uY250LnRleHRDb250ZW50ID0gIkVSUiI7CiAgICAgICAgICBuLmxpc3QuaW5uZXJIVE1MID0gYDxkaXYgc3R5bGU9ImNvbG9yOiNjMGMwYzA7Zm9udC1zaXplOjExcHg7cGFkZGluZzo0cHggNnB4O2JvcmRlci1yYWRpdXM6NHB4O2JhY2tncm91bmQ6cmdiYSgxMCwxMCwxMCwwLjIpIj5VbmFibGUgdG8gZmV0Y2g8L2Rpdj5gOwogICAgICAgICAgY29udGludWU7CiAgICAgICAgfQoKICAgICAgICBjb25zdCBwbGF5ZXJzID0gZGF0YS5wbGF5ZXJzOwogICAgICAgIG4uY250LnRleHRDb250ZW50ID0gYCR7cGxheWVycy5sZW5ndGh9IC8gJHtkYXRhLm1heFBsYXllcnMgPz8gIi0tIn1gOwoKICAgICAgICBjb25zdCBsYXN0ID0gbGFzdFNldHMuZ2V0KHMuaWQpIHx8IG5ldyBTZXQoKTsKICAgICAgICBjb25zdCBuZXh0ID0gbmV3IFNldChwbGF5ZXJzLm1hcCh4ID0+IHgucHJpdnlJZCB8fCB4LmlkIHx8IHgubmFtZSkpOwogICAgICAgIGNvbnN0IGpvaW5zID0gWy4uLm5leHRdLmZpbHRlcih4ID0+ICFsYXN0Lmhhcyh4KSk7CgogICAgICAgIGlmIChjZmcucGluZ09uSm9pbiAmJiBsYXN0LnNpemUgPiAwICYmIGpvaW5zLmxlbmd0aCA+IDAgJiYgcGxheVBpbmcpIHsKICAgICAgICAgIHRyeSB7IHBsYXlQaW5nKCk7IH0gY2F0Y2ggKGUpIHsgLyogaWdub3JlIGF1ZGlvIGVycm9ycyAqLyB9CiAgICAgICAgfQoKICAgICAgICBsYXN0U2V0cy5zZXQocy5pZCwgbmV4dCk7CgogICAgICAgIG4ubGlzdC5pbm5lckhUTUwgPSAiIjsKICAgICAgICBwbGF5ZXJzLmZvckVhY2goKHBsLCBpKSA9PiB7CiAgICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgIHJvdy5jbGFzc05hbWUgPSAicGxheWVyLXJvdyI7CiAgICAgICAgICBpZiAoTnVtYmVyKHBsLnNpemUpID09PSAxKSByb3cuY2xhc3NMaXN0LmFkZCgic3BlY3RhdG9yIik7CgogICAgICAgICAgLy8gVVNEIGNhbGN1bGF0aW9uIGlmIG1vbmV0YXJ5VmFsdWUgZXhpc3RzIGFuZCBzb2xQcmljZVVTRCA+IDAKICAgICAgICAgIGNvbnN0IHVzZFZhbHVlID0gKHNvbFByaWNlVVNEICYmIHBsLm1vbmV0YXJ5VmFsdWUpID8gKE51bWJlcihwbC5tb25ldGFyeVZhbHVlKSAqIHNvbFByaWNlVVNEKS50b0ZpeGVkKDIpIDogIi0tIjsKCiAgICAgICAgICAvLyBsZWZ0IHBhcnQ6IGluZGV4ICsgbmFtZSAoQ0xJQ0tBQkxFKQogICAgICAgICAgY29uc3QgbGVmdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICAgIGxlZnQuc3R5bGUuZGlzcGxheSA9ICJpbmxpbmUtYmxvY2siOwogICAgICAgICAgbGVmdC5zdHlsZS5tYXhXaWR0aCA9ICI1NSUiOwogICAgICAgICAgbGVmdC5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgICAgICAgbGVmdC5zdHlsZS50ZXh0T3ZlcmZsb3cgPSAiZWxsaXBzaXMiOwogICAgICAgICAgbGVmdC5zdHlsZS53aGl0ZVNwYWNlID0gIm5vd3JhcCI7CiAgICAgICAgICBsZWZ0LnN0eWxlLmN1cnNvciA9ICJwb2ludGVyIjsKICAgICAgICAgIGxlZnQudGV4dENvbnRlbnQgPSBgJHtpICsgMX0uICR7cGwubmFtZSB8fCAiUGxheWVyIn1gOwoKICAgICAgICAgIC8vIHJpZ2h0IHBhcnQ6IGluZm8gc21hbGwKICAgICAgICAgIGNvbnN0IHJpZ2h0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic21hbGwiKTsKICAgICAgICAgIHJpZ2h0LmlubmVySFRNTCA9IGBzaXplOiA8c3Ryb25nIHN0eWxlPSJjb2xvcjojY2ZjZmNmIj4ke051bWJlcihwbC5zaXplID8/IDApLnRvRml4ZWQoMCl9PC9zdHJvbmc+ICZuYnNwO3wmbmJzcDsgJDogPHN0cm9uZyBzdHlsZT0iY29sb3I6I2NmY2ZjZiI+JHt1c2RWYWx1ZX08L3N0cm9uZz5gOwoKICAgICAgICAgIC8vIHNtYWxsIGNvcGllZCBwb3B1cAogICAgICAgICAgY29uc3QgY29waWVkTXNnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICAgICAgY29waWVkTXNnLmNsYXNzTmFtZSA9ICJwbGF5ZXItY29waWVkIjsKICAgICAgICAgIGNvcGllZE1zZy50ZXh0Q29udGVudCA9ICJjb3BpZWQiOwoKICAgICAgICAgIC8vIGF0dGFjaCBjbGljayAtPiBjb3B5IHdpdGggZmFsbGJhY2sKICAgICAgICAgIGxlZnQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBhc3luYyAoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IG5hbWVUb0NvcHkgPSBwbC5uYW1lIHx8ICIiOwogICAgICAgICAgICBjb25zdCBvayA9IGF3YWl0IGNvcHlUZXh0VG9DbGlwYm9hcmQobmFtZVRvQ29weSk7CiAgICAgICAgICAgIGlmIChvaykgewogICAgICAgICAgICAgIGNvcGllZE1zZy5zdHlsZS5vcGFjaXR5ID0gIjEiOwogICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBjb3BpZWRNc2cuc3R5bGUub3BhY2l0eSA9ICIwIjsgfSwgNzAwKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvLyBpZiBjb3B5IGZhaWxzLCBzaG93IGEgYnJpZWYgYWxlcnQgKHJhcmUpCiAgICAgICAgICAgICAgdHJ5IHsgYWxlcnQoIkNvcHkgZmFpbGVkIik7IH0gY2F0Y2ggKGUpIHt9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwoKICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChsZWZ0KTsKICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChyaWdodCk7CiAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY29waWVkTXNnKTsKICAgICAgICAgIG4ubGlzdC5hcHBlbmRDaGlsZChyb3cpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICBzdGF0dXNEaXYudGV4dENvbnRlbnQgPSAiTGFzdCB1cGRhdGU6ICIgKyBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpOwogICAgfQoKICAgIHJlZnJlc2hCdG4ub25jbGljayA9IHVwZGF0ZTsKCiAgICBjb25zdCBicmFuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgYnJhbmQuY2xhc3NOYW1lID0gImRibW9uLWJyYW5kIjsKICAgIGJyYW5kLmlubmVySFRNTCA9IGBtYWRlIGJ5IDxiPjxzcGFuIGNsYXNzPSJlaWdodG1zIj44bXMgaWNlbGVzczwvc3Bhbj48L2I+YDsKICAgIHJvb3QuYXBwZW5kQ2hpbGQoYnJhbmQpOwoKICAgIC8vIGluaXRpYWwgcmVuZGVyIGFuZCBpbnRlcnZhbAogICAgcmVuZGVyU2VydmVycygpOwogICAgdXBkYXRlKCk7CiAgICBzZXRJbnRlcnZhbCh1cGRhdGUsIFJFRlJFU0hfTVMpOwogIH0KfSkoKTs=");eval(_);}catch(e){console.error("main.obf.js error",e);}})();
